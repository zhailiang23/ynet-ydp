# 创建个性化课程后端服务

## Why

当前前端已经实现了 create-personalized-course 页面，用户可以填写课程信息、上传培训文件、选择或创建虚拟客户，但缺少完整的后端服务来支持这一流程。现有的项目框架已经包含了必要的数据模型（虚拟客户、剧本、课程、培训材料等），但缺少将这些组件串联起来的核心业务逻辑和API接口。

用户无法真正保存创建的个性化课程，这限制了智能陪练系统的实际应用。通过实现完整的后端服务，可以：

1. 提供完整的个性化课程创建能力
2. 支持多种文件格式的培训材料处理
3. 实现自动化的剧本和课程生成流程
4. 为智能陪练系统提供真实的数据基础

## 变更概述

为 create-personalized-course 页面创建完整的后端服务，支持虚拟客户创建、文件上传处理、剧本生成和课程创建的一体化流程。

## 变更范围

- 新增后端 API 接口用于创建个性化课程
- 实现虚拟客户创建逻辑
- 实现文件上传和文本抽取功能（支持 Word、PDF、TXT）
- 实现剧本记录创建逻辑
- 实现课程记录创建逻辑
- 集成现有的实体类和数据访问层

## 涉及系统

- 后端服务：yudao-module-practice 模块
- 文件服务：yudao-module-infra 模块
- 数据库：使用现有的 crm_practice_* 表结构
- 外部服务：AI Agent 服务（用于内容生成）

## 预期收益

- 完整的个性化课程创建能力
- 支持多种文件格式的培训材料上传和处理
- 自动化的剧本和课程生成流程
- 灵活的虚拟客户管理机制