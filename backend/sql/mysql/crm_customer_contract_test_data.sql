-- ----------------------------
-- 客户签约信息测试数据
-- 为所有20个客户创建签约记录（每个客户至少5条）
-- 10个零售客户（R10001-R10010）
-- 10个对公客户（C20001-C20010）
-- ----------------------------

-- ==================== 客户签约信息测试数据 ====================

-- 零售客户签约记录（每人5-6条）
INSERT INTO crm_customer_contract (
  customer_id, contract_type_id, contract_no, contract_date, branch_id, branch_name,
  contract_status, contract_situation, identity_type, identity_no,
  account_no, start_date, end_date, sign_channel, manager_user_id,
  creator, updater, tenant_id
) VALUES
-- R10001 张三 - 6条签约
(1, 4, '6216330068001', '2018-12-28', 102, '泰布', 'signed', '手机银行', 'id_card', '150105131119****',
 '6216330068001', '2018-12-28', '2028-12-28', 'mobile', 104, '1', '1', 0),

(1, 6, '6216330068002', '2018-12-28', 102, '泰布', 'signed', '短信签约', 'id_card', '150105131119****',
 '6216330068001', '2018-12-28', '2028-12-28', 'counter', 104, '1', '1', 0),

(1, 11, '6216330068003', '2018-12-28', 102, '泰布', 'signed', 'ATM转账', 'id_card', '150105131119****',
 '6216330068001', '2018-12-28', '2028-12-28', 'counter', 104, '1', '1', 0),

(1, 14, '6216330068004', '2019-12-30', 103, '中心', 'signed', '手机号码支付', 'id_card', '150105131119****',
 '6216330068001', '2019-12-30', '2029-12-30', 'mobile', 104, '1', '1', 0),

(1, 16, '6216330068005', '2018-12-28', 103, '中心', 'signed', '理财签约', 'id_card', '150105131119****',
 '6216330068001', '2018-12-28', '2028-12-28', 'online', 104, '1', '1', 0),

(1, 19, '6216330068006', '2020-06-15', 102, '泰布', 'signed', '基金定投签约', 'id_card', '150105131119****',
 '6216330068001', '2020-06-15', '2030-06-15', 'mobile', 104, '1', '1', 0),

-- R10002 李四 - 5条签约
(2, 4, '6217856078001', '2019-01-15', 102, '泰布', 'signed', '手机银行', 'id_card', '230102198505****',
 '6217856078001', '2019-01-15', '2029-01-15', 'mobile', 104, '1', '1', 0),

(2, 6, '6217856078002', '2019-01-15', 102, '泰布', 'signed', '网上银行', 'id_card', '230102198505****',
 '6217856078001', '2019-01-15', '2029-01-15', 'online', 104, '1', '1', 0),

(2, 12, '6217856078003', '2019-03-20', 102, '泰布', 'signed', '信用卡自动还款签约', 'id_card', '230102198505****',
 '6217856078001', '2019-03-20', '2029-03-20', 'mobile', 104, '1', '1', 0),

(2, 16, '6217856078004', '2019-06-10', 102, '泰布', 'signed', '理财签约', 'id_card', '230102198505****',
 '6217856078001', '2019-06-10', '2029-06-10', 'mobile', 104, '1', '1', 0),

(2, 27, '6217856078005', '2020-02-18', 102, '泰布', 'signed', '三方存管签约', 'id_card', '230102198505****',
 '6217856078001', '2020-02-18', '2030-02-18', 'online', 104, '1', '1', 0),

-- R10003 王五 - 5条签约
(3, 4, '6228482038001', '2020-03-10', 102, '泰布', 'signed', '手机银行', 'id_card', '370283199203****',
 '6228482038001', '2020-03-10', '2030-03-10', 'mobile', 105, '1', '1', 0),

(3, 5, '6228482038002', '2020-03-10', 102, '泰布', 'signed', '微信银行', 'id_card', '370283199203****',
 '6228482038001', '2020-03-10', '2030-03-10', 'wechat', 105, '1', '1', 0),

(3, 13, '6228482038003', '2020-05-20', 102, '泰布', 'signed', '基金签约', 'id_card', '370283199203****',
 '6228482038001', '2020-05-20', '2030-05-20', 'mobile', 105, '1', '1', 0),

(3, 15, '6228482038004', '2020-08-15', 102, '泰布', 'signed', '理财签约', 'id_card', '370283199203****',
 '6228482038001', '2020-08-15', '2030-08-15', 'mobile', 105, '1', '1', 0),

(3, 29, '6228482038005', '2021-01-10', 102, '泰布', 'signed', '支付宝签约', 'id_card', '370283199203****',
 '6228482038001', '2021-01-10', '2031-01-10', 'online', 105, '1', '1', 0),

-- R10004 赵六 - 5条签约
(4, 4, '6225761048001', '2020-08-20', 102, '泰布', 'signed', '手机银行', 'id_card', '610103199408****',
 '6225761048001', '2020-08-20', '2030-08-20', 'mobile', 104, '1', '1', 0),

(4, 10, '6225761048002', '2020-08-20', 102, '泰布', 'signed', '小额免密支付', 'id_card', '610103199408****',
 '6225761048001', '2020-08-20', '2030-08-20', 'mobile', 104, '1', '1', 0),

(4, 12, '6225761048003', '2020-09-15', 102, '泰布', 'signed', '信用卡自动还款签约', 'id_card', '610103199408****',
 '6225761048001', '2020-09-15', '2030-09-15', 'mobile', 104, '1', '1', 0),

(4, 20, '6225761048004', '2020-11-20', 102, '泰布', 'signed', '信用卡网上支付功能签约', 'id_card', '610103199408****',
 '6225761048001', '2020-11-20', '2030-11-20', 'online', 104, '1', '1', 0),

(4, 29, '6225761048005', '2021-03-10', 102, '泰布', 'signed', '支付宝签约', 'id_card', '610103199408****',
 '6225761048001', '2021-03-10', '2031-03-10', 'mobile', 104, '1', '1', 0),

-- R10005 孙七 - 6条签约
(5, 4, '6230586058001', '2021-01-15', 102, '泰布', 'signed', '手机银行', 'id_card', '420106199501****',
 '6230586058001', '2021-01-15', '2031-01-15', 'mobile', 105, '1', '1', 0),

(5, 6, '6230586058002', '2021-01-15', 102, '泰布', 'signed', '网上银行', 'id_card', '420106199501****',
 '6230586058001', '2021-01-15', '2031-01-15', 'online', 105, '1', '1', 0),

(5, 7, '6230586058003', '2021-02-20', 102, '泰布', 'signed', '短信签约', 'id_card', '420106199501****',
 '6230586058001', '2021-02-20', '2031-02-20', 'counter', 105, '1', '1', 0),

(5, 16, '6230586058004', '2021-03-25', 102, '泰布', 'signed', '理财签约', 'id_card', '420106199501****',
 '6230586058001', '2021-03-25', '2031-03-25', 'mobile', 105, '1', '1', 0),

(5, 19, '6230586058005', '2021-06-10', 102, '泰布', 'signed', '基金定投签约', 'id_card', '420106199501****',
 '6230586058001', '2021-06-10', '2031-06-10', 'mobile', 105, '1', '1', 0),

(5, 24, '6230586058006', '2021-09-15', 102, '泰布', 'signed', '易付宝签约', 'id_card', '420106199501****',
 '6230586058001', '2021-09-15', '2031-09-15', 'online', 105, '1', '1', 0),

-- R10006 周八 - 5条签约
(6, 4, '6212261068001', '2021-05-10', 102, '泰布', 'signed', '手机银行', 'id_card', '330108199605****',
 '6212261068001', '2021-05-10', '2031-05-10', 'mobile', 104, '1', '1', 0),

(6, 5, '6212261068002', '2021-05-10', 102, '泰布', 'signed', '微信银行', 'id_card', '330108199605****',
 '6212261068001', '2021-05-10', '2031-05-10', 'wechat', 104, '1', '1', 0),

(6, 13, '6212261068003', '2021-07-20', 102, '泰布', 'signed', '基金签约', 'id_card', '330108199605****',
 '6212261068001', '2021-07-20', '2031-07-20', 'mobile', 104, '1', '1', 0),

(6, 17, '6212261068004', '2021-09-15', 102, '泰布', 'signed', '活期自动定期签约', 'id_card', '330108199605****',
 '6212261068001', '2021-09-15', '2031-09-15', 'mobile', 104, '1', '1', 0),

(6, 27, '6212261068005', '2022-01-10', 102, '泰布', 'signed', '三方存管签约', 'id_card', '330108199605****',
 '6212261068001', '2022-01-10', '2032-01-10', 'online', 104, '1', '1', 0),

-- R10007 吴九 - 5条签约
(7, 4, '6217003078001', '2022-03-15', 102, '泰布', 'signed', '手机银行', 'id_card', '510107199703****',
 '6217003078001', '2022-03-15', '2032-03-15', 'mobile', 105, '1', '1', 0),

(7, 6, '6217003078002', '2022-03-15', 102, '泰布', 'signed', '网上银行', 'id_card', '510107199703****',
 '6217003078001', '2022-03-15', '2032-03-15', 'online', 105, '1', '1', 0),

(7, 13, '6217003078003', '2022-05-20', 102, '泰布', 'signed', '基金签约', 'id_card', '510107199703****',
 '6217003078001', '2022-05-20', '2032-05-20', 'mobile', 105, '1', '1', 0),

(7, 16, '6217003078004', '2022-07-25', 102, '泰布', 'signed', '理财签约', 'id_card', '510107199703****',
 '6217003078001', '2022-07-25', '2032-07-25', 'mobile', 105, '1', '1', 0),

(7, 26, '6217003078005', '2022-10-10', 102, '泰布', 'signed', '翼支付签约', 'id_card', '510107199703****',
 '6217003078001', '2022-10-10', '2032-10-10', 'mobile', 105, '1', '1', 0),

-- R10008 郑十 - 5条签约
(8, 4, '6225768088001', '2023-01-20', 102, '泰布', 'signed', '手机银行', 'id_card', '440104199801****',
 '6225768088001', '2023-01-20', '2033-01-20', 'mobile', 104, '1', '1', 0),

(8, 7, '6225768088002', '2023-01-20', 102, '泰布', 'signed', '短信签约', 'id_card', '440104199801****',
 '6225768088001', '2023-01-20', '2033-01-20', 'counter', 104, '1', '1', 0),

(8, 9, '6225768088003', '2023-02-15', 102, '泰布', 'signed', '手机号码支付', 'id_card', '440104199801****',
 '6225768088001', '2023-02-15', '2033-02-15', 'mobile', 104, '1', '1', 0),

(8, 15, '6225768088004', '2023-04-20', 102, '泰布', 'signed', '理财签约', 'id_card', '440104199801****',
 '6225768088001', '2023-04-20', '2033-04-20', 'mobile', 104, '1', '1', 0),

(8, 29, '6225768088005', '2023-07-10', 102, '泰布', 'signed', '支付宝签约', 'id_card', '440104199801****',
 '6225768088001', '2023-07-10', '2033-07-10', 'mobile', 104, '1', '1', 0),

-- R10009 钱十一 - 5条签约
(9, 4, '6228489098001', '2023-08-15', 102, '泰布', 'signed', '手机银行', 'id_card', '320106199908****',
 '6228489098001', '2023-08-15', '2033-08-15', 'mobile', 105, '1', '1', 0),

(9, 5, '6228489098002', '2023-08-15', 102, '泰布', 'signed', '微信银行', 'id_card', '320106199908****',
 '6228489098001', '2023-08-15', '2033-08-15', 'wechat', 105, '1', '1', 0),

(9, 10, '6228489098003', '2023-09-20', 102, '泰布', 'signed', '小额免密支付', 'id_card', '320106199908****',
 '6228489098001', '2023-09-20', '2033-09-20', 'mobile', 105, '1', '1', 0),

(9, 13, '6228489098004', '2023-11-10', 102, '泰布', 'signed', '基金签约', 'id_card', '320106199908****',
 '6228489098001', '2023-11-10', '2033-11-10', 'mobile', 105, '1', '1', 0),

(9, 21, '6228489098005', '2024-01-15', 102, '泰布', 'signed', '基金定投签约', 'id_card', '320106199908****',
 '6228489098001', '2024-01-15', '2034-01-15', 'mobile', 105, '1', '1', 0),

-- R10010 冯十二 - 5条签约
(10, 4, '6217854108001', '2024-02-20', 102, '泰布', 'signed', '手机银行', 'id_card', '500104200002****',
 '6217854108001', '2024-02-20', '2034-02-20', 'mobile', 104, '1', '1', 0),

(10, 6, '6217854108002', '2024-02-20', 102, '泰布', 'signed', '网上银行', 'id_card', '500104200002****',
 '6217854108001', '2024-02-20', '2034-02-20', 'online', 104, '1', '1', 0),

(10, 12, '6217854108003', '2024-03-25', 102, '泰布', 'signed', '信用卡自动还款签约', 'id_card', '500104200002****',
 '6217854108001', '2024-03-25', '2034-03-25', 'mobile', 104, '1', '1', 0),

(10, 16, '6217854108004', '2024-05-15', 102, '泰布', 'signed', '理财签约', 'id_card', '500104200002****',
 '6217854108001', '2024-05-15', '2034-05-15', 'mobile', 104, '1', '1', 0),

(10, 27, '6217854108005', '2024-08-10', 102, '泰布', 'signed', '三方存管签约', 'id_card', '500104200002****',
 '6217854108001', '2024-08-10', '2034-08-10', 'online', 104, '1', '1', 0);

-- 对公客户签约记录（每个客户5条）
INSERT INTO crm_customer_contract (
  customer_id, contract_type_id, contract_no, contract_date, branch_id, branch_name,
  contract_status, contract_situation, identity_type, identity_no,
  account_no, start_date, end_date, sign_channel, manager_user_id,
  creator, updater, tenant_id
) VALUES
-- C20001 北京科技有限公司 - 5条签约
(11, 4, '3568201118001', '2020-05-15', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91110108MA01****',
 '3568201118001', '2020-05-15', '2030-05-15', 'mobile', 106, '1', '1', 0),

(11, 6, '3568201118002', '2020-05-15', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91110108MA01****',
 '3568201118001', '2020-05-15', '2030-05-15', 'online', 106, '1', '1', 0),

(11, 13, '3568201118003', '2020-08-20', 103, '中心', 'signed', '基金签约', 'unified_credit_code', '91110108MA01****',
 '3568201118001', '2020-08-20', '2030-08-20', 'online', 106, '1', '1', 0),

(11, 20, '3568201118004', '2021-01-10', 103, '中心', 'signed', '网银互联支付签约', 'unified_credit_code', '91110108MA01****',
 '3568201118001', '2021-01-10', '2031-01-10', 'online', 106, '1', '1', 0),

(11, 29, '3568201118005', '2021-06-20', 103, '中心', 'signed', '支付宝签约', 'unified_credit_code', '91110108MA01****',
 '3568201118001', '2021-06-20', '2031-06-20', 'online', 106, '1', '1', 0),

-- C20002 上海贸易股份有限公司 - 5条签约
(12, 4, '3568301218001', '2019-08-10', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91310115MA1H****',
 '3568301218001', '2019-08-10', '2029-08-10', 'mobile', 107, '1', '1', 0),

(12, 6, '3568301218002', '2019-08-10', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91310115MA1H****',
 '3568301218001', '2019-08-10', '2029-08-10', 'online', 107, '1', '1', 0),

(12, 15, '3568301218003', '2019-11-20', 103, '中心', 'signed', '理财签约', 'unified_credit_code', '91310115MA1H****',
 '3568301218001', '2019-11-20', '2029-11-20', 'online', 107, '1', '1', 0),

(12, 25, '3568301218004', '2020-03-15', 103, '中心', 'signed', '电力交易代扣签约', 'unified_credit_code', '91310115MA1H****',
 '3568301218001', '2020-03-15', '2030-03-15', 'counter', 107, '1', '1', 0),

(12, 28, '3568301218005', '2020-09-10', 103, '中心', 'signed', '三方协议', 'unified_credit_code', '91310115MA1H****',
 '3568301218001', '2020-09-10', '2030-09-10', 'counter', 107, '1', '1', 0),

-- C20003 深圳制造有限公司 - 5条签约
(13, 4, '3568401318001', '2021-02-20', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91440300MA5E****',
 '3568401318001', '2021-02-20', '2031-02-20', 'mobile', 106, '1', '1', 0),

(13, 6, '3568401318002', '2021-02-20', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91440300MA5E****',
 '3568401318001', '2021-02-20', '2031-02-20', 'online', 106, '1', '1', 0),

(13, 13, '3568401318003', '2021-05-15', 103, '中心', 'signed', '基金签约', 'unified_credit_code', '91440300MA5E****',
 '3568401318001', '2021-05-15', '2031-05-15', 'online', 106, '1', '1', 0),

(13, 16, '3568401318004', '2021-08-10', 103, '中心', 'signed', '理财签约', 'unified_credit_code', '91440300MA5E****',
 '3568401318001', '2021-08-10', '2031-08-10', 'online', 106, '1', '1', 0),

(13, 26, '3568401318005', '2022-01-15', 103, '中心', 'signed', '财付通签约', 'unified_credit_code', '91440300MA5E****',
 '3568401318001', '2022-01-15', '2032-01-15', 'online', 106, '1', '1', 0),

-- C20004 杭州电商有限公司 - 5条签约
(14, 4, '3568501418001', '2021-06-10', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91330108MA2C****',
 '3568501418001', '2021-06-10', '2031-06-10', 'mobile', 107, '1', '1', 0),

(14, 6, '3568501418002', '2021-06-10', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91330108MA2C****',
 '3568501418001', '2021-06-10', '2031-06-10', 'online', 107, '1', '1', 0),

(14, 20, '3568501418003', '2021-08-20', 103, '中心', 'signed', '网银互联支付签约', 'unified_credit_code', '91330108MA2C****',
 '3568501418001', '2021-08-20', '2031-08-20', 'online', 107, '1', '1', 0),

(14, 24, '3568501418004', '2021-11-15', 103, '中心', 'signed', '易付宝签约', 'unified_credit_code', '91330108MA2C****',
 '3568501418001', '2021-11-15', '2031-11-15', 'online', 107, '1', '1', 0),

(14, 29, '3568501418005', '2022-03-10', 103, '中心', 'signed', '支付宝签约', 'unified_credit_code', '91330108MA2C****',
 '3568501418001', '2022-03-10', '2032-03-10', 'online', 107, '1', '1', 0),

-- C20005 南京建筑工程有限公司 - 5条签约
(15, 4, '3568601518001', '2022-05-15', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91320104MA1U****',
 '3568601518001', '2022-05-15', '2032-05-15', 'mobile', 106, '1', '1', 0),

(15, 6, '3568601518002', '2022-05-15', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91320104MA1U****',
 '3568601518001', '2022-05-15', '2032-05-15', 'online', 106, '1', '1', 0),

(15, 7, '3568601518003', '2022-06-20', 103, '中心', 'signed', '短信签约', 'unified_credit_code', '91320104MA1U****',
 '3568601518001', '2022-06-20', '2032-06-20', 'counter', 106, '1', '1', 0),

(15, 25, '3568601518004', '2022-09-10', 103, '中心', 'signed', '电力交易代扣签约', 'unified_credit_code', '91320104MA1U****',
 '3568601518001', '2022-09-10', '2032-09-10', 'counter', 106, '1', '1', 0),

(15, 28, '3568601518005', '2023-01-20', 103, '中心', 'signed', '三方协议', 'unified_credit_code', '91320104MA1U****',
 '3568601518001', '2023-01-20', '2033-01-20', 'counter', 106, '1', '1', 0),

-- C20006 成都餐饮管理有限公司 - 5条签约
(16, 4, '3568701618001', '2023-03-10', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91510107MA6C****',
 '3568701618001', '2023-03-10', '2033-03-10', 'mobile', 107, '1', '1', 0),

(16, 6, '3568701618002', '2023-03-10', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91510107MA6C****',
 '3568701618001', '2023-03-10', '2033-03-10', 'online', 107, '1', '1', 0),

(16, 15, '3568701618003', '2023-05-20', 103, '中心', 'signed', '理财签约', 'unified_credit_code', '91510107MA6C****',
 '3568701618001', '2023-05-20', '2033-05-20', 'online', 107, '1', '1', 0),

(16, 25, '3568701618004', '2023-08-15', 103, '中心', 'signed', '电力交易代扣签约', 'unified_credit_code', '91510107MA6C****',
 '3568701618001', '2023-08-15', '2033-08-15', 'counter', 107, '1', '1', 0),

(16, 29, '3568701618005', '2023-11-10', 103, '中心', 'signed', '支付宝签约', 'unified_credit_code', '91510107MA6C****',
 '3568701618001', '2023-11-10', '2033-11-10', 'online', 107, '1', '1', 0),

-- C20007 武汉物流有限公司 - 5条签约
(17, 4, '3568801718001', '2023-12-15', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91420106MA4K****',
 '3568801718001', '2023-12-15', '2033-12-15', 'mobile', 106, '1', '1', 0),

(17, 6, '3568801718002', '2023-12-15', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91420106MA4K****',
 '3568801718001', '2023-12-15', '2033-12-15', 'online', 106, '1', '1', 0),

(17, 20, '3568801718003', '2024-02-20', 103, '中心', 'signed', '网银互联支付签约', 'unified_credit_code', '91420106MA4K****',
 '3568801718001', '2024-02-20', '2034-02-20', 'online', 106, '1', '1', 0),

(17, 25, '3568801718004', '2024-05-15', 103, '中心', 'signed', '电力交易代扣签约', 'unified_credit_code', '91420106MA4K****',
 '3568801718001', '2024-05-15', '2034-05-15', 'counter', 106, '1', '1', 0),

(17, 28, '3568801718005', '2024-08-10', 103, '中心', 'signed', '三方协议', 'unified_credit_code', '91420106MA4K****',
 '3568801718001', '2024-08-10', '2034-08-10', 'counter', 106, '1', '1', 0),

-- C20008 广州医疗器械有限公司 - 5条签约
(18, 4, '3568901818001', '2024-01-20', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91440104MA5A****',
 '3568901818001', '2024-01-20', '2034-01-20', 'mobile', 107, '1', '1', 0),

(18, 6, '3568901818002', '2024-01-20', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91440104MA5A****',
 '3568901818001', '2024-01-20', '2034-01-20', 'online', 107, '1', '1', 0),

(18, 13, '3568901818003', '2024-03-15', 103, '中心', 'signed', '基金签约', 'unified_credit_code', '91440104MA5A****',
 '3568901818001', '2024-03-15', '2034-03-15', 'online', 107, '1', '1', 0),

(18, 16, '3568901818004', '2024-06-10', 103, '中心', 'signed', '理财签约', 'unified_credit_code', '91440104MA5A****',
 '3568901818001', '2024-06-10', '2034-06-10', 'online', 107, '1', '1', 0),

(18, 29, '3568901818005', '2024-09-05', 103, '中心', 'signed', '支付宝签约', 'unified_credit_code', '91440104MA5A****',
 '3568901818001', '2024-09-05', '2034-09-05', 'online', 107, '1', '1', 0),

-- C20009 西安软件开发有限公司 - 5条签约
(19, 4, '3569001918001', '2024-03-25', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91610113MA6U****',
 '3569001918001', '2024-03-25', '2034-03-25', 'mobile', 106, '1', '1', 0),

(19, 6, '3569001918002', '2024-03-25', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91610113MA6U****',
 '3569001918001', '2024-03-25', '2034-03-25', 'online', 106, '1', '1', 0),

(19, 13, '3569001918003', '2024-05-20', 103, '中心', 'signed', '基金签约', 'unified_credit_code', '91610113MA6U****',
 '3569001918001', '2024-05-20', '2034-05-20', 'online', 106, '1', '1', 0),

(19, 20, '3569001918004', '2024-07-15', 103, '中心', 'signed', '网银互联支付签约', 'unified_credit_code', '91610113MA6U****',
 '3569001918001', '2024-07-15', '2034-07-15', 'online', 106, '1', '1', 0),

(19, 29, '3569001918005', '2024-10-10', 103, '中心', 'signed', '支付宝签约', 'unified_credit_code', '91610113MA6U****',
 '3569001918001', '2024-10-10', '2034-10-10', 'online', 106, '1', '1', 0),

-- C20010 长沙制造业有限公司 - 5条签约
(20, 4, '3569102018001', '2024-05-15', 103, '中心', 'signed', '手机银行', 'unified_credit_code', '91430104MA4L****',
 '3569102018001', '2024-05-15', '2034-05-15', 'mobile', 107, '1', '1', 0),

(20, 6, '3569102018002', '2024-05-15', 103, '中心', 'signed', '网上银行', 'unified_credit_code', '91430104MA4L****',
 '3569102018001', '2024-05-15', '2034-05-15', 'online', 107, '1', '1', 0),

(20, 15, '3569102018003', '2024-07-20', 103, '中心', 'signed', '理财签约', 'unified_credit_code', '91430104MA4L****',
 '3569102018001', '2024-07-20', '2034-07-20', 'online', 107, '1', '1', 0),

(20, 25, '3569102018004', '2024-09-10', 103, '中心', 'signed', '电力交易代扣签约', 'unified_credit_code', '91430104MA4L****',
 '3569102018001', '2024-09-10', '2034-09-10', 'counter', 107, '1', '1', 0),

(20, 28, '3569102018005', '2024-11-05', 103, '中心', 'signed', '三方协议', 'unified_credit_code', '91430104MA4L****',
 '3569102018001', '2024-11-05', '2034-11-05', 'counter', 107, '1', '1', 0);

-- ==================== 验证数据 ====================

-- 1. 统计各客户类型的签约记录数
SELECT
  c.customer_type,
  CASE c.customer_type WHEN 1 THEN '零售客户' WHEN 2 THEN '对公客户' END AS 客户类型,
  COUNT(DISTINCT cc.customer_id) AS 签约客户数,
  COUNT(cc.id) AS 签约记录数,
  MIN(cc.contract_date) AS 最早签约日期,
  MAX(cc.contract_date) AS 最晚签约日期
FROM crm_customer_contract cc
JOIN crm_customer c ON cc.customer_id = c.id
WHERE cc.deleted = 0
GROUP BY c.customer_type;

-- 2. 统计各签约分类的分布
SELECT
  d.label AS 签约分类,
  COUNT(*) AS 签约类型数
FROM crm_contract_type ct
JOIN system_dict_data d ON ct.category = d.value AND d.dict_type = 'aicrm_contract_category'
WHERE ct.deleted = 0 AND ct.parent_id != 0
GROUP BY ct.category, d.label
ORDER BY ct.category;

-- 3. 统计最受欢迎的签约类型（前10）
SELECT
  ct.type_name AS 签约类型,
  d.label AS 签约分类,
  COUNT(cc.id) AS 签约次数
FROM crm_customer_contract cc
JOIN crm_contract_type ct ON cc.contract_type_id = ct.id
JOIN system_dict_data d ON ct.category = d.value AND d.dict_type = 'aicrm_contract_category'
WHERE cc.deleted = 0
GROUP BY cc.contract_type_id, ct.type_name, d.label
ORDER BY 签约次数 DESC
LIMIT 10;

-- 4. 统计各签约渠道的分布
SELECT
  d.label AS 签约渠道,
  COUNT(*) AS 签约次数
FROM crm_customer_contract cc
JOIN system_dict_data d ON cc.sign_channel = d.value AND d.dict_type = 'aicrm_sign_channel'
WHERE cc.deleted = 0
GROUP BY cc.sign_channel, d.label
ORDER BY 签约次数 DESC;

-- 5. 统计签约状态分布
SELECT
  d.label AS 签约状态,
  COUNT(*) AS 记录数
FROM crm_customer_contract cc
JOIN system_dict_data d ON cc.contract_status = d.value AND d.dict_type = 'aicrm_contract_status'
WHERE cc.deleted = 0
GROUP BY cc.contract_status, d.label;

-- 6. 查询每个客户的签约数量
SELECT
  c.customer_no AS 客户编号,
  c.customer_name AS 客户名称,
  CASE c.customer_type WHEN 1 THEN '零售' WHEN 2 THEN '对公' END AS 客户类型,
  COUNT(cc.id) AS 签约数量,
  MIN(cc.contract_date) AS 首次签约日期,
  MAX(cc.contract_date) AS 最近签约日期
FROM crm_customer c
LEFT JOIN crm_customer_contract cc ON c.id = cc.customer_id AND cc.deleted = 0
WHERE c.deleted = 0
GROUP BY c.id, c.customer_no, c.customer_name, c.customer_type
ORDER BY c.id;

-- 7. 查询签约类型树形结构
SELECT
  CASE WHEN ct.parent_id = 0 THEN ct.type_name ELSE CONCAT('  └─ ', ct.type_name) END AS 签约类型层级,
  d.label AS 所属分类,
  ct.customer_type AS 适用客户,
  ct.status AS 状态
FROM crm_contract_type ct
JOIN system_dict_data d ON ct.category = d.value AND d.dict_type = 'aicrm_contract_category'
WHERE ct.deleted = 0
ORDER BY ct.category, ct.parent_id, ct.sort_order;
